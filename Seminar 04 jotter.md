# SLU Data Science Seminar
## Spring 2016, Seminar 04

### Seminar Overview: Working with numeric data

##### Set the working directories for R Studio
-Use the command getwd() to find out which is your current directory.
-Use the command setwd("folderpath") to specify a new directory location. The path should be entered in quotes and will depend on your operating system (Windows or Mac).
*Note that the console is not connected to the file folder window in R Studio, so you must always set your working directory in the console.*

-Packages: R comes with code and data sets. These are available under the packages tab in the file folder window.

For our examples today we'll load the "cars" sample data set. To do this:
-Use the command library(datasets) to set the directory.
-Use the command df <- cars to load the data set into a dataframe "cars". The data should appear in your environment window.
-Use the command str(cars) to generate a list of all variables in the data set in your console.
You should now have the following in your console:
![screen shot 0](https://github.com/slu-data-science-seminar/spring-2016-seminar-04/blob/master/Screen%20Shot%200.png)

##### Review: Working with a data set, commands for descriptive statistics
Use the following commands to run descriptive stats on your data set (include the dollar sign followed by the name of the variable you want to examine):
-mean(df$speed)
-median(df$speed)
-sd(df$speed)
-hist(df$speed)

To export your histogram or image:
Step 1: create the plot with the hist command

Step 2: create the image with command dev.copy(filetype, 'filename')- you must specify the file type you want to create and give it a filename in single quotes.

Step 3: export the image with command dev.off()- you don't have to specify anything; it will be working with the last image that you created. 
![screen shot 1](https://github.com/slu-data-science-seminar/spring-2016-seminar-04/blob/master/Screen%20Shot%201.png)


Next we'll confirm that we're working with numeric data: command is.numeric(df$speed).
The result should be "TRUE".

##### New for today: Recoding numeric data

Let's change "speed" to an ordinal factor.
-Use the command df$speedOrdinal<-cut() (in the parenthesis you need to specify the old object, number of breaks)
-ex: df$speedOrdinal<-cut(df$speed,breaks=5)- we will let R Studio decide where to place the breaks.
This command will generate a new ordinal variable in the environment. 
![screen shot 2](https://github.com/slu-data-science-seminar/spring-2016-seminar-04/blob/master/Screen%20Shot%202.png)

You can find out the levels that were assigned by using the summary() command.
-ex: summary(df$speedOrdinal) 
![screen shot 3](https://github.com/slu-data-science-seminar/spring-2016-seminar-04/blob/master/Screen%20Shot%203.png)

Next we'll make a new Speed ordinal variable "speedOrdinal2" with the breaks in numeric order (if we don't do this, R Studio will assume that the levels generated by the breaks do not matter) -Use the command df$speedOrdinal2<-cut(df$speed, breaks=5, ordered=TRUE)

We can also put labels on the levels of our ordinal variable by adding the labels=c() command
We'll create a new variable "speedOrdinal3" with labels 
-ex: df$speedOrdinal3<-cut(df$speed, breaks=5, labels=c("vlow","low","mid","high","vhigh")) 
**screen shot 5**

###### Notes on commands used in recoding data

We have used the command cut(), which functions to recode a continuous variable into an ordinal variable. The R documentation for the function is available [here]  (https://stat.ethz.ch/R-manual/R-devel/library/base/html/cut.html). 
The most basic implementation of cut involves splitting a continuous variable into groups of equal length (such as 4 or 5 equally spaced categories. The addition of labels and the syntax for specifying an ordered factor vs an un-ordered factor are important elements.

If you want to specify the cut points themselves rather than just the nuber of breaks, you use the sequence command: seq(). An explanation of the sequence command is available [here] (https://stat.ethz.ch/R-manual/R-devel/library/base/html/seq.html). 
This allows you to say that you want categories of specific sizes that encompass a range of values from low to high (sequence requires specifying the lower and upper bounds of your sequence). So, in a variable that goes from 0 to 100 - seq(0, 100, by = 20) would create five categories: 0 to 20, 20 to 40, 40 to 60, 60 to 80, and 80 to 100). 

This can also be done using a combine function, which can be used to specify specific breaks if you don't want your breaks to be equal in size. c(0, 12, 36) would create a variable with two cateogires - values 0 to 12 and values 12 to 36. 

Finally, the ifelse() command allows you to set up a logical test. Along with the test, you specify the output if the test is true, and the output if the test is false. So ifelse(df$grade >= 90, c(1), c(0)) would perform a logical test on the grade variable. If a student's grade is greater than or equal to 90, they are assigned a 1. If, however, the grade is less than 90, they are assigned a 0.










